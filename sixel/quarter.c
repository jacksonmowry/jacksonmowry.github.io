/* GENERATED BY EMBEDDED_VRISP Thu Feb  6 04:41:39 PM EST 2025 */
#include "color.h"
#include "image.h"
#include "unistd.h"
#include <assert.h>
#include <fcntl.h>
#include <locale.h>
#include <stddef.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

#define NUM_INPUTS 90
#define NUM_OUTPUTS 180
#define NUM_NEURONS 810
#define MAX_OUTGOING 4
#define NUM_TRACKED_TIMESTEPS 6
#define MIN_POTENTIAL 0
#define NUM_OBSERVATIONS 90
#define NUM_ACTIONS 0
#define SIM_TIME 1

struct timespec diff_timespec(const struct timespec *time1,
                              const struct timespec *time0) {
  assert(time1);
  assert(time0);
  struct timespec diff = {.tv_sec = time1->tv_sec - time0->tv_sec, //
                          .tv_nsec = time1->tv_nsec - time0->tv_nsec};
  if (diff.tv_nsec < 0) {
    diff.tv_nsec += 1000000000; // nsec/sec
    diff.tv_sec--;
  }
  return diff;
}

const uint32_t INPUT_MAPPING[NUM_INPUTS] = {
    0,  1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11, 12, 13, 14, 15, 16, 17,
    18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,
    36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53,
    54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71,
    72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89};
const uint32_t OUTPUT_MAPPING[NUM_OUTPUTS] = {
    360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374,
    375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389,
    390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404,
    405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419,
    420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434,
    435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449,
    720, 721, 722, 723, 724, 725, 726, 727, 728, 729, 730, 731, 732, 733, 734,
    735, 736, 737, 738, 739, 740, 741, 742, 743, 744, 745, 746, 747, 748, 749,
    750, 751, 752, 753, 754, 755, 756, 757, 758, 759, 760, 761, 762, 763, 764,
    765, 766, 767, 768, 769, 770, 771, 772, 773, 774, 775, 776, 777, 778, 779,
    780, 781, 782, 783, 784, 785, 786, 787, 788, 789, 790, 791, 792, 793, 794,
    795, 796, 797, 798, 799, 800, 801, 802, 803, 804, 805, 806, 807, 808, 809};

int8_t NEURON_THRESHOLDS[NUM_NEURONS] = {
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 7, 7, 7, 7, 7,
    7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
    7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
    7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
    7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2,
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2};
uint8_t NEURON_LEAK[NUM_NEURONS] = {
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1};
uint16_t NEURON_OUTGOING[NUM_NEURONS] = {
    3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3,
    3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3,
    3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
    3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
    3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
    3, 3, 3, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0};

uint32_t SYNAPSE_DESTINATIONS[NUM_NEURONS][MAX_OUTGOING] = {
    {90, 270, 271},
    {91, 270, 271, 272},
    {92, 271, 272, 273},
    {93, 272, 273, 274},
    {94, 273, 274, 275},
    {95, 274, 275, 276},
    {96, 275, 276, 277},
    {97, 276, 277, 278},
    {98, 277, 278, 279},
    {99, 278, 279, 280},
    {100, 279, 280, 281},
    {101, 280, 281, 282},
    {102, 281, 282, 283},
    {103, 282, 283, 284},
    {104, 283, 284, 285},
    {105, 284, 285, 286},
    {106, 285, 286, 287},
    {107, 286, 287, 288},
    {108, 287, 288, 289},
    {109, 288, 289, 290},
    {110, 289, 290, 291},
    {111, 290, 291, 292},
    {112, 291, 292, 293},
    {113, 292, 293, 294},
    {114, 293, 294, 295},
    {115, 294, 295, 296},
    {116, 295, 296, 297},
    {117, 296, 297, 298},
    {118, 297, 298, 299},
    {119, 298, 299, 300},
    {120, 299, 300, 301},
    {121, 300, 301, 302},
    {122, 301, 302, 303},
    {123, 302, 303, 304},
    {124, 303, 304, 305},
    {125, 304, 305, 306},
    {126, 305, 306, 307},
    {127, 306, 307, 308},
    {128, 307, 308, 309},
    {129, 308, 309, 310},
    {130, 309, 310, 311},
    {131, 310, 311, 312},
    {132, 311, 312, 313},
    {133, 312, 313, 314},
    {134, 313, 314, 315},
    {135, 314, 315, 316},
    {136, 315, 316, 317},
    {137, 316, 317, 318},
    {138, 317, 318, 319},
    {139, 318, 319, 320},
    {140, 319, 320, 321},
    {141, 320, 321, 322},
    {142, 321, 322, 323},
    {143, 322, 323, 324},
    {144, 323, 324, 325},
    {145, 324, 325, 326},
    {146, 325, 326, 327},
    {147, 326, 327, 328},
    {148, 327, 328, 329},
    {149, 328, 329, 330},
    {150, 329, 330, 331},
    {151, 330, 331, 332},
    {152, 331, 332, 333},
    {153, 332, 333, 334},
    {154, 333, 334, 335},
    {155, 334, 335, 336},
    {156, 335, 336, 337},
    {157, 336, 337, 338},
    {158, 337, 338, 339},
    {159, 338, 339, 340},
    {160, 339, 340, 341},
    {161, 340, 341, 342},
    {162, 341, 342, 343},
    {163, 342, 343, 344},
    {164, 343, 344, 345},
    {165, 344, 345, 346},
    {166, 345, 346, 347},
    {167, 346, 347, 348},
    {168, 347, 348, 349},
    {169, 348, 349, 350},
    {170, 349, 350, 351},
    {171, 350, 351, 352},
    {172, 351, 352, 353},
    {173, 352, 353, 354},
    {174, 353, 354, 355},
    {175, 354, 355, 356},
    {176, 355, 356, 357},
    {177, 356, 357, 358},
    {178, 357, 358, 359},
    {179, 358, 359},
    {180, 271, 360},
    {181, 270, 272, 361},
    {182, 271, 273, 362},
    {183, 272, 274, 363},
    {184, 273, 275, 364},
    {185, 274, 276, 365},
    {186, 275, 277, 366},
    {187, 276, 278, 367},
    {188, 277, 279, 368},
    {189, 278, 280, 369},
    {190, 279, 281, 370},
    {191, 280, 282, 371},
    {192, 281, 283, 372},
    {193, 282, 284, 373},
    {194, 283, 285, 374},
    {195, 284, 286, 375},
    {196, 285, 287, 376},
    {197, 286, 288, 377},
    {198, 287, 289, 378},
    {199, 288, 290, 379},
    {200, 289, 291, 380},
    {201, 290, 292, 381},
    {202, 291, 293, 382},
    {203, 292, 294, 383},
    {204, 293, 295, 384},
    {205, 294, 296, 385},
    {206, 295, 297, 386},
    {207, 296, 298, 387},
    {208, 297, 299, 388},
    {209, 298, 300, 389},
    {210, 299, 301, 390},
    {211, 300, 302, 391},
    {212, 301, 303, 392},
    {213, 302, 304, 393},
    {214, 303, 305, 394},
    {215, 304, 306, 395},
    {216, 305, 307, 396},
    {217, 306, 308, 397},
    {218, 307, 309, 398},
    {219, 308, 310, 399},
    {220, 309, 311, 400},
    {221, 310, 312, 401},
    {222, 311, 313, 402},
    {223, 312, 314, 403},
    {224, 313, 315, 404},
    {225, 314, 316, 405},
    {226, 315, 317, 406},
    {227, 316, 318, 407},
    {228, 317, 319, 408},
    {229, 318, 320, 409},
    {230, 319, 321, 410},
    {231, 320, 322, 411},
    {232, 321, 323, 412},
    {233, 322, 324, 413},
    {234, 323, 325, 414},
    {235, 324, 326, 415},
    {236, 325, 327, 416},
    {237, 326, 328, 417},
    {238, 327, 329, 418},
    {239, 328, 330, 419},
    {240, 329, 331, 420},
    {241, 330, 332, 421},
    {242, 331, 333, 422},
    {243, 332, 334, 423},
    {244, 333, 335, 424},
    {245, 334, 336, 425},
    {246, 335, 337, 426},
    {247, 336, 338, 427},
    {248, 337, 339, 428},
    {249, 338, 340, 429},
    {250, 339, 341, 430},
    {251, 340, 342, 431},
    {252, 341, 343, 432},
    {253, 342, 344, 433},
    {254, 343, 345, 434},
    {255, 344, 346, 435},
    {256, 345, 347, 436},
    {257, 346, 348, 437},
    {258, 347, 349, 438},
    {259, 348, 350, 439},
    {260, 349, 351, 440},
    {261, 350, 352, 441},
    {262, 351, 353, 442},
    {263, 352, 354, 443},
    {264, 353, 355, 444},
    {265, 354, 356, 445},
    {266, 355, 357, 446},
    {267, 356, 358, 447},
    {268, 357, 359, 448},
    {269, 358, 449},
    {270, 271, 720},
    {270, 271, 272, 721},
    {271, 272, 273, 722},
    {272, 273, 274, 723},
    {273, 274, 275, 724},
    {274, 275, 276, 725},
    {275, 276, 277, 726},
    {276, 277, 278, 727},
    {277, 278, 279, 728},
    {278, 279, 280, 729},
    {279, 280, 281, 730},
    {280, 281, 282, 731},
    {281, 282, 283, 732},
    {282, 283, 284, 733},
    {283, 284, 285, 734},
    {284, 285, 286, 735},
    {285, 286, 287, 736},
    {286, 287, 288, 737},
    {287, 288, 289, 738},
    {288, 289, 290, 739},
    {289, 290, 291, 740},
    {290, 291, 292, 741},
    {291, 292, 293, 742},
    {292, 293, 294, 743},
    {293, 294, 295, 744},
    {294, 295, 296, 745},
    {295, 296, 297, 746},
    {296, 297, 298, 747},
    {297, 298, 299, 748},
    {298, 299, 300, 749},
    {299, 300, 301, 750},
    {300, 301, 302, 751},
    {301, 302, 303, 752},
    {302, 303, 304, 753},
    {303, 304, 305, 754},
    {304, 305, 306, 755},
    {305, 306, 307, 756},
    {306, 307, 308, 757},
    {307, 308, 309, 758},
    {308, 309, 310, 759},
    {309, 310, 311, 760},
    {310, 311, 312, 761},
    {311, 312, 313, 762},
    {312, 313, 314, 763},
    {313, 314, 315, 764},
    {314, 315, 316, 765},
    {315, 316, 317, 766},
    {316, 317, 318, 767},
    {317, 318, 319, 768},
    {318, 319, 320, 769},
    {319, 320, 321, 770},
    {320, 321, 322, 771},
    {321, 322, 323, 772},
    {322, 323, 324, 773},
    {323, 324, 325, 774},
    {324, 325, 326, 775},
    {325, 326, 327, 776},
    {326, 327, 328, 777},
    {327, 328, 329, 778},
    {328, 329, 330, 779},
    {329, 330, 331, 780},
    {330, 331, 332, 781},
    {331, 332, 333, 782},
    {332, 333, 334, 783},
    {333, 334, 335, 784},
    {334, 335, 336, 785},
    {335, 336, 337, 786},
    {336, 337, 338, 787},
    {337, 338, 339, 788},
    {338, 339, 340, 789},
    {339, 340, 341, 790},
    {340, 341, 342, 791},
    {341, 342, 343, 792},
    {342, 343, 344, 793},
    {343, 344, 345, 794},
    {344, 345, 346, 795},
    {345, 346, 347, 796},
    {346, 347, 348, 797},
    {347, 348, 349, 798},
    {348, 349, 350, 799},
    {349, 350, 351, 800},
    {350, 351, 352, 801},
    {351, 352, 353, 802},
    {352, 353, 354, 803},
    {353, 354, 355, 804},
    {354, 355, 356, 805},
    {355, 356, 357, 806},
    {356, 357, 358, 807},
    {357, 358, 359, 808},
    {358, 359, 809},
    {360},
    {361},
    {362},
    {363},
    {364},
    {365},
    {366},
    {367},
    {368},
    {369},
    {370},
    {371},
    {372},
    {373},
    {374},
    {375},
    {376},
    {377},
    {378},
    {379},
    {380},
    {381},
    {382},
    {383},
    {384},
    {385},
    {386},
    {387},
    {388},
    {389},
    {390},
    {391},
    {392},
    {393},
    {394},
    {395},
    {396},
    {397},
    {398},
    {399},
    {400},
    {401},
    {402},
    {403},
    {404},
    {405},
    {406},
    {407},
    {408},
    {409},
    {410},
    {411},
    {412},
    {413},
    {414},
    {415},
    {416},
    {417},
    {418},
    {419},
    {420},
    {421},
    {422},
    {423},
    {424},
    {425},
    {426},
    {427},
    {428},
    {429},
    {430},
    {431},
    {432},
    {433},
    {434},
    {435},
    {436},
    {437},
    {438},
    {439},
    {440},
    {441},
    {442},
    {443},
    {444},
    {445},
    {446},
    {447},
    {448},
    {449},
    {450, 630, 631},
    {451, 630, 631, 632},
    {452, 631, 632, 633},
    {453, 632, 633, 634},
    {454, 633, 634, 635},
    {455, 634, 635, 636},
    {456, 635, 636, 637},
    {457, 636, 637, 638},
    {458, 637, 638, 639},
    {459, 638, 639, 640},
    {460, 639, 640, 641},
    {461, 640, 641, 642},
    {462, 641, 642, 643},
    {463, 642, 643, 644},
    {464, 643, 644, 645},
    {465, 644, 645, 646},
    {466, 645, 646, 647},
    {467, 646, 647, 648},
    {468, 647, 648, 649},
    {469, 648, 649, 650},
    {470, 649, 650, 651},
    {471, 650, 651, 652},
    {472, 651, 652, 653},
    {473, 652, 653, 654},
    {474, 653, 654, 655},
    {475, 654, 655, 656},
    {476, 655, 656, 657},
    {477, 656, 657, 658},
    {478, 657, 658, 659},
    {479, 658, 659, 660},
    {480, 659, 660, 661},
    {481, 660, 661, 662},
    {482, 661, 662, 663},
    {483, 662, 663, 664},
    {484, 663, 664, 665},
    {485, 664, 665, 666},
    {486, 665, 666, 667},
    {487, 666, 667, 668},
    {488, 667, 668, 669},
    {489, 668, 669, 670},
    {490, 669, 670, 671},
    {491, 670, 671, 672},
    {492, 671, 672, 673},
    {493, 672, 673, 674},
    {494, 673, 674, 675},
    {495, 674, 675, 676},
    {496, 675, 676, 677},
    {497, 676, 677, 678},
    {498, 677, 678, 679},
    {499, 678, 679, 680},
    {500, 679, 680, 681},
    {501, 680, 681, 682},
    {502, 681, 682, 683},
    {503, 682, 683, 684},
    {504, 683, 684, 685},
    {505, 684, 685, 686},
    {506, 685, 686, 687},
    {507, 686, 687, 688},
    {508, 687, 688, 689},
    {509, 688, 689, 690},
    {510, 689, 690, 691},
    {511, 690, 691, 692},
    {512, 691, 692, 693},
    {513, 692, 693, 694},
    {514, 693, 694, 695},
    {515, 694, 695, 696},
    {516, 695, 696, 697},
    {517, 696, 697, 698},
    {518, 697, 698, 699},
    {519, 698, 699, 700},
    {520, 699, 700, 701},
    {521, 700, 701, 702},
    {522, 701, 702, 703},
    {523, 702, 703, 704},
    {524, 703, 704, 705},
    {525, 704, 705, 706},
    {526, 705, 706, 707},
    {527, 706, 707, 708},
    {528, 707, 708, 709},
    {529, 708, 709, 710},
    {530, 709, 710, 711},
    {531, 710, 711, 712},
    {532, 711, 712, 713},
    {533, 712, 713, 714},
    {534, 713, 714, 715},
    {535, 714, 715, 716},
    {536, 715, 716, 717},
    {537, 716, 717, 718},
    {538, 717, 718, 719},
    {539, 718, 719},
    {540, 631, 720},
    {541, 630, 632, 721},
    {542, 631, 633, 722},
    {543, 632, 634, 723},
    {544, 633, 635, 724},
    {545, 634, 636, 725},
    {546, 635, 637, 726},
    {547, 636, 638, 727},
    {548, 637, 639, 728},
    {549, 638, 640, 729},
    {550, 639, 641, 730},
    {551, 640, 642, 731},
    {552, 641, 643, 732},
    {553, 642, 644, 733},
    {554, 643, 645, 734},
    {555, 644, 646, 735},
    {556, 645, 647, 736},
    {557, 646, 648, 737},
    {558, 647, 649, 738},
    {559, 648, 650, 739},
    {560, 649, 651, 740},
    {561, 650, 652, 741},
    {562, 651, 653, 742},
    {563, 652, 654, 743},
    {564, 653, 655, 744},
    {565, 654, 656, 745},
    {566, 655, 657, 746},
    {567, 656, 658, 747},
    {568, 657, 659, 748},
    {569, 658, 660, 749},
    {570, 659, 661, 750},
    {571, 660, 662, 751},
    {572, 661, 663, 752},
    {573, 662, 664, 753},
    {574, 663, 665, 754},
    {575, 664, 666, 755},
    {576, 665, 667, 756},
    {577, 666, 668, 757},
    {578, 667, 669, 758},
    {579, 668, 670, 759},
    {580, 669, 671, 760},
    {581, 670, 672, 761},
    {582, 671, 673, 762},
    {583, 672, 674, 763},
    {584, 673, 675, 764},
    {585, 674, 676, 765},
    {586, 675, 677, 766},
    {587, 676, 678, 767},
    {588, 677, 679, 768},
    {589, 678, 680, 769},
    {590, 679, 681, 770},
    {591, 680, 682, 771},
    {592, 681, 683, 772},
    {593, 682, 684, 773},
    {594, 683, 685, 774},
    {595, 684, 686, 775},
    {596, 685, 687, 776},
    {597, 686, 688, 777},
    {598, 687, 689, 778},
    {599, 688, 690, 779},
    {600, 689, 691, 780},
    {601, 690, 692, 781},
    {602, 691, 693, 782},
    {603, 692, 694, 783},
    {604, 693, 695, 784},
    {605, 694, 696, 785},
    {606, 695, 697, 786},
    {607, 696, 698, 787},
    {608, 697, 699, 788},
    {609, 698, 700, 789},
    {610, 699, 701, 790},
    {611, 700, 702, 791},
    {612, 701, 703, 792},
    {613, 702, 704, 793},
    {614, 703, 705, 794},
    {615, 704, 706, 795},
    {616, 705, 707, 796},
    {617, 706, 708, 797},
    {618, 707, 709, 798},
    {619, 708, 710, 799},
    {620, 709, 711, 800},
    {621, 710, 712, 801},
    {622, 711, 713, 802},
    {623, 712, 714, 803},
    {624, 713, 715, 804},
    {625, 714, 716, 805},
    {626, 715, 717, 806},
    {627, 716, 718, 807},
    {628, 717, 719, 808},
    {629, 718, 809},
    {630, 631},
    {630, 631, 632},
    {631, 632, 633},
    {632, 633, 634},
    {633, 634, 635},
    {634, 635, 636},
    {635, 636, 637},
    {636, 637, 638},
    {637, 638, 639},
    {638, 639, 640},
    {639, 640, 641},
    {640, 641, 642},
    {641, 642, 643},
    {642, 643, 644},
    {643, 644, 645},
    {644, 645, 646},
    {645, 646, 647},
    {646, 647, 648},
    {647, 648, 649},
    {648, 649, 650},
    {649, 650, 651},
    {650, 651, 652},
    {651, 652, 653},
    {652, 653, 654},
    {653, 654, 655},
    {654, 655, 656},
    {655, 656, 657},
    {656, 657, 658},
    {657, 658, 659},
    {658, 659, 660},
    {659, 660, 661},
    {660, 661, 662},
    {661, 662, 663},
    {662, 663, 664},
    {663, 664, 665},
    {664, 665, 666},
    {665, 666, 667},
    {666, 667, 668},
    {667, 668, 669},
    {668, 669, 670},
    {669, 670, 671},
    {670, 671, 672},
    {671, 672, 673},
    {672, 673, 674},
    {673, 674, 675},
    {674, 675, 676},
    {675, 676, 677},
    {676, 677, 678},
    {677, 678, 679},
    {678, 679, 680},
    {679, 680, 681},
    {680, 681, 682},
    {681, 682, 683},
    {682, 683, 684},
    {683, 684, 685},
    {684, 685, 686},
    {685, 686, 687},
    {686, 687, 688},
    {687, 688, 689},
    {688, 689, 690},
    {689, 690, 691},
    {690, 691, 692},
    {691, 692, 693},
    {692, 693, 694},
    {693, 694, 695},
    {694, 695, 696},
    {695, 696, 697},
    {696, 697, 698},
    {697, 698, 699},
    {698, 699, 700},
    {699, 700, 701},
    {700, 701, 702},
    {701, 702, 703},
    {702, 703, 704},
    {703, 704, 705},
    {704, 705, 706},
    {705, 706, 707},
    {706, 707, 708},
    {707, 708, 709},
    {708, 709, 710},
    {709, 710, 711},
    {710, 711, 712},
    {711, 712, 713},
    {712, 713, 714},
    {713, 714, 715},
    {714, 715, 716},
    {715, 716, 717},
    {716, 717, 718},
    {717, 718, 719},
    {718, 719},
    {720},
    {721},
    {722},
    {723},
    {724},
    {725},
    {726},
    {727},
    {728},
    {729},
    {730},
    {731},
    {732},
    {733},
    {734},
    {735},
    {736},
    {737},
    {738},
    {739},
    {740},
    {741},
    {742},
    {743},
    {744},
    {745},
    {746},
    {747},
    {748},
    {749},
    {750},
    {751},
    {752},
    {753},
    {754},
    {755},
    {756},
    {757},
    {758},
    {759},
    {760},
    {761},
    {762},
    {763},
    {764},
    {765},
    {766},
    {767},
    {768},
    {769},
    {770},
    {771},
    {772},
    {773},
    {774},
    {775},
    {776},
    {777},
    {778},
    {779},
    {780},
    {781},
    {782},
    {783},
    {784},
    {785},
    {786},
    {787},
    {788},
    {789},
    {790},
    {791},
    {792},
    {793},
    {794},
    {795},
    {796},
    {797},
    {798},
    {799},
    {800},
    {801},
    {802},
    {803},
    {804},
    {805},
    {806},
    {807},
    {808},
    {809},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0},
    {0}};
uint8_t SYNAPSE_DELAYS[NUM_NEURONS][MAX_OUTGOING] = {
    {1, 1, 1},    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1},
    {1, 1, 2},    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 2},
    {1, 1, 4},    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4},
    {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 1, 4}, {1, 1, 4},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1, 1, 1},    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1},
    {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1},
    {1, 1, 2},    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2},
    {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 1, 2}, {1, 1, 2},
    {1, 1},       {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},
    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1, 1},    {1, 1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {1},          {1},          {1},          {1},          {1},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0},
    {0},          {0},          {0},          {0},          {0}};
int8_t SYNAPSE_WEIGHTS[NUM_NEURONS][MAX_OUTGOING] = {
    {1, 1, 1},     {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1},
    {1, 1, 1},     {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1},
    {1, 1, 1},     {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1, 1, 1},     {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},
    {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1, 1},  {1, 1, 1},
    {1, 1, -1},    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1},
    {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, 1, -1}, {1, 1, -1},
    {1, 1},        {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},
    {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1, 1},     {1, 1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {1},           {1},           {1},           {1},           {1},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0},
    {0},           {0},           {0},           {0},           {0}};

int8_t NEURON_CHARGE_MATRIX[NUM_TRACKED_TIMESTEPS][NUM_NEURONS] = {0};

size_t current_timestep = 0;

void apply_spike(uint32_t input_neuron_id, size_t time, int8_t value) {
  assert(time < NUM_TRACKED_TIMESTEPS);

  NEURON_CHARGE_MATRIX[(current_timestep + time) % NUM_TRACKED_TIMESTEPS]
                      [INPUT_MAPPING[input_neuron_id]] += value;
}

void apply_observations(const int observations[NUM_OBSERVATIONS]) {
  size_t inputs_offset = 0;
  size_t observation;

  for (observation = 0; observation < NUM_OBSERVATIONS; observation++) {
    const int value = observations[observation];
    const int spikes_per_region = 1;

    assert(value >= 0); /* Value cannot be less than 0 */
    assert(value <= 1); /* Value canont be greater than max */

    if (value != 0) {
      const int region = (value - 1) / spikes_per_region;
      const int residual = value - (spikes_per_region * region);

      {
        const int internal_value = residual;
        const int internal_region = region;

        /* Direct encoder spikes the residual into the calculated region */
        apply_spike(inputs_offset + internal_region, 0, internal_value);
      }
    }
    inputs_offset += 1;
  }
}

void process_events(size_t time, uint8_t outputs[NUM_OUTPUTS]) {
  const size_t internal_timestep =
      (current_timestep + time) % NUM_TRACKED_TIMESTEPS;

  size_t i;
  size_t j;

  for (i = 0; i < NUM_NEURONS; i++) {
    /* Ensure all neuron charge values are >= to "MIN_POTENTIAL" */
    if (NEURON_CHARGE_MATRIX[internal_timestep][i] < MIN_POTENTIAL) {
      NEURON_CHARGE_MATRIX[internal_timestep][i] = MIN_POTENTIAL;
    }

    if (NEURON_CHARGE_MATRIX[internal_timestep][i] >= NEURON_THRESHOLDS[i]) {
      /* A neuron fires when its charge is >= its threshold */
      /* Now loop through all synapses, propagating charges to downstream
       * neurons */
      for (j = 0; j < NEURON_OUTGOING[i]; j++) {
        NEURON_CHARGE_MATRIX[(internal_timestep + SYNAPSE_DELAYS[i][j]) %
                             NUM_TRACKED_TIMESTEPS]
                            [SYNAPSE_DESTINATIONS[i][j]] +=
            SYNAPSE_WEIGHTS[i][j];
      }
    } else {
      /* If a neuron does not fire we apply carry over where necessary */
      if (!NEURON_LEAK[i]) {
        NEURON_CHARGE_MATRIX[(internal_timestep + 1) % NUM_TRACKED_TIMESTEPS]
                            [i] += NEURON_CHARGE_MATRIX[internal_timestep][i];
      }
    }
  }

  /* We do not have decoder support yet, so we set 0/1 for each output neuron */
  /* This will change once Plank releases the new 2025 decoders */
  for (i = 0; i < NUM_OUTPUTS; i++) {
    outputs[i] = NEURON_CHARGE_MATRIX[internal_timestep][OUTPUT_MAPPING[i]] >=
                 NEURON_THRESHOLDS[OUTPUT_MAPPING[i]];
  }

  /* At the end of each simulation timestep we clear the current row in the
   * matrix to 0 */
  memset(&NEURON_CHARGE_MATRIX[internal_timestep], 0,
         sizeof(*NEURON_CHARGE_MATRIX[internal_timestep]) * NUM_NEURONS);
}

void run(const size_t time_steps, const int observations[NUM_OBSERVATIONS],
         int actions[NUM_OUTPUTS]) {
  size_t i;
  size_t j;

  /* Pass the provided "observations" array to the encoder section */
  apply_observations(observations);

  for (i = 0; i < time_steps; i++) {
    /* Once again, we do not have proper decoder support yet, so just collect
     * output spikes */
    uint8_t outputs[NUM_OUTPUTS] = {0};

    process_events(i, outputs);
    /* For now we only record spike counts on each output neuron,
       this will allow for WTA decoding, but not last for fire */
    for (j = 0; j < NUM_OUTPUTS; j++) {
      actions[j] += outputs[j];
    }
  }
  current_timestep += time_steps;
  current_timestep %= NUM_TRACKED_TIMESTEPS;

  for (i = 0; i < NUM_NEURONS; i++) {
    if (NEURON_CHARGE_MATRIX[current_timestep][i] < MIN_POTENTIAL) {
      NEURON_CHARGE_MATRIX[current_timestep][i] = MIN_POTENTIAL;
    }
  }
}

FILE *fp;
ssize_t base_timestamp = -1;
struct timespec ts;
uint8_t image[90][120] = {0};
size_t target_fps;

void get_observations() {
  if (feof(fp)) {
    exit(1);
  }

  while (!feof(fp)) {
    int32_t data;
    int32_t timestamp;

    fread(&data, sizeof(data), 1, fp);
    fread(&timestamp, sizeof(data), 1, fp);

    data = __bswap_32(data);
    timestamp = __bswap_32(timestamp);

    if (base_timestamp == -1) {
      base_timestamp = timestamp;
    }

    if (timestamp > base_timestamp + target_fps * 1000) {
      base_timestamp += target_fps * 1000;
      return;
    }

    if ((data >> 31) & 0x1) {
      // Skip IMU measurements
      continue;
    }

    uint16_t y = (data >> 22) & 0b111111111;
    uint16_t x = (data >> 12) & 0b111111111;

    image[(179 - y) / 2][x / 2]++;
  }
}

void setup(void) {
  /* Perform any platform specific setup here! */
  /* This function will be run once when the program starts */
  printf("\033[2J");
  char line[4096];
  char c;
  while ((c = fgetc(fp)) == '#') {
    fgets(line, sizeof(line), fp);
  }

  ungetc(c, fp);
}

size_t frames = 0;

void output_frames(void) { printf("Frames: %zu\n", frames); }

int main(int argc, char *argv[]) {
  atexit(output_frames);

  if (argc != 3) {
    fprintf(stderr, "usage: %s file.aedat target_fps\n", argv[0]);
    exit(1);
  }

  fp = fopen(argv[1], "rb");
  if (!fp) {
    perror(argv[1]);
    exit(1);
  }

  target_fps = (double)1 / atoi(argv[2]) * 1000;
  setlocale(LC_ALL, "");

  setup();
  clock_gettime(CLOCK_REALTIME, &ts);

  bool frame[180][240];
  Image_t img = (Image_t){.grid = malloc(90 * 120 * sizeof(*img.grid)),
                          .used = malloc(256 * sizeof(bool)),
                          .grid_height = 90,
                          .grid_width = 120};

  while (1) {
    memset(img.grid, 0, 90 * 120 * sizeof(*img.grid));
    memset(img.used, 0, 256 * sizeof(bool));
    get_observations();

    for (size_t col = 0; col < img.grid_width + 6; col++) {
      /* Fill in the observations array then pass it to run! */
      /* The actions array will be filled with results after run returns. */
      int observations[NUM_OBSERVATIONS] = {0};
      int actions[NUM_OUTPUTS] = {0};

      for (size_t i = 0; col < img.grid_width && i < img.grid_height; i++) {
        observations[i] = image[i][col] >= 3;
      }

      run(SIM_TIME, observations, actions);

      for (size_t i = 0; i < NUM_OUTPUTS; i++) {
        if (i < img.grid_height && actions[i]) {
          image_add_pixel(&img, (Color_t){0, 0, 255}, i, col - 3);
        } else if (actions[i]) {
          image_add_pixel(&img, (Color_t){0, 255, 0}, i % img.grid_height,
                          col - 6);
        }
      }
    }

    printf("\033[H\n");
    printf("\033Pq\n");
    color_register_setup(stdout);
    print_sixel(stdout, &img);
    color_register_teardown(stdout);
    puts("");
    printf("\033\\\n\n");

    struct timespec new_ts;
    clock_gettime(CLOCK_REALTIME, &new_ts);

    struct timespec time_elapsed = diff_timespec(&new_ts, &ts);
    struct timespec sleep_for = (struct timespec){
        .tv_nsec = target_fps * 1000000 - time_elapsed.tv_nsec};

    nanosleep(&sleep_for, NULL);

    ts = new_ts;

    printf("\033[H");

    memset(frame, 0, sizeof(frame));
    memset(image, 0, sizeof(image));
    frames++;
  }

  free(img.grid);
  free(img.used);
}
